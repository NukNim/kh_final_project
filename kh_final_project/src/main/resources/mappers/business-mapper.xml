<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="business">


<!-- myinfo -->

	<!-- USER_TABLE에서 id가 일치하는 게시물 꺼내옴  -->
	<select id="selectOne" parameterType="string" resultType="budto">
  	select * from USER_TABLE where USER_ID=#{userId}
	</select>
	
	<!-- BOARD에서 회사소개 코드번호 UDB06 인 게시물 꺼내옴  -->
	<select id="selectList" resultType="bidto">
	select * from BOARD where CATEGORY_ID='UDB06'
	</select>
	
	<!-- 회사소개작성 -->
	<insert id="insert"  >
	INSERT INTO BOARD(USER_ID,BOARD_CONTENT,BOARD_DATE,BOARD_ORIGINAL_FILENAME,
					  BOARD_RENAME_FILENAME,TAG,SALARY_AVG,EMPLOYEE) 
 			   VALUES(#{userId},#{boardContent},#{boardDate},#{boardOriginalFilename},
 			          #{boardRenameFilename},#{tag},#{salaryAvg},#{employee})
	</insert>
	
<!-- account -->
	<insert id="insert" parameterType="">
        INSERT INTO users (user_email, bs_license, bs_main_phone, adress_postcode, adress_road, adress_jibun, adress_detail)
        VALUES (#{userEmail}, #{bsLicense}, #{bsMainPhone}, #{addressPostcode}, #{addressRoad}, #{addressJibun}, #{addressDetail})
    </insert>

    <update id="update" parameterType="">
        UPDATE users SET
        bs_license = #{bsLicense},
        bs_main_phone = #{bsMainPhone},
        adress_postcode = #{addressPostcode},
        adress_road = #{addressRoad},
        adress_jibun = #{addressJibun},
        adress_detail = #{addressDetail}
        WHERE user_email = #{userEmail}
    </update>

    <select id="select" parameterType="string" resultType="budto">
        SELECT *
        FROM USER_TABLE
        WHERE user_email = #{userEmail}
    </select>

</mapper>